// Generated by CoffeeScript 1.7.1
var bbFocus, canvasHeight, canvasWidth, focusFrame, loadStations, loadStats, mapX, mapY, margin, path, projection, svg;

margin = {
  top: 20,
  right: 20,
  bottom: 20,
  left: 20
};

canvasWidth = 1100 - margin.left - margin.right;

canvasHeight = 800 - margin.bottom - margin.top;

svg = d3.select("#visualization").append("svg").attr("width", canvasWidth + margin.left + margin.right).attr("height", canvasHeight + margin.top + margin.top).append("g").attr("transform", "translate(" + margin.left + ", " + margin.top + ")");

bbFocus = {
  x: 50,
  y: 10,
  width: canvasWidth - 50,
  height: 350
};

mapX = canvasWidth / 2;

mapY = canvasHeight / 2 - 100;

focusFrame = svg.append("g").attr("transform", "translate(" + bbFocus.x + ", " + bbFocus.y + ")");

projection = d3.geo.albersUsa().translate([mapX, mapY]);

path = d3.geo.path().projection(projection);

loadStations = function() {
  return d3.csv("../data/NSRDB_StationsMeta.csv", function(error, data) {});
};

loadStats = function() {
  return d3.json("../data/reducedMonthStationHour2003_2004.json", function(error, data) {
    var completeDataSet;
    completeDataSet = data;
    return loadStations();
  });
};

d3.json("../data/us-named.json", function(data) {
  var usMap;
  usMap = topojson.feature(data, data.objects.states).features;
  console.log(usMap);
  return svg.selectAll("path").data(usMap).enter().append("path").attr("d", path);
});
